<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Quiz Cyrillique</title>

<style>
    body {
        font-family: "Nunito", Arial, sans-serif;
        margin: 0;
        background: #f0f9ff;
        display: flex;
        justify-content: center;
    }

    .container {
        width: 100%;
        max-width: 480px;
        padding: 20px;
        padding-bottom: 140px;
    }

    /* TOP BAR */
    .topbar {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 15px;
        position: relative;
    }

    .topbar h1 {
        font-size: 1.9em;
        font-weight: 800;
        margin: 0;
    }

    .homeBtn {
        position: absolute;
        right: 0;
        background: white;
        border-radius: 50%;
        padding: 10px 13px;
        box-shadow: 0 3px 8px rgba(0,0,0,0.12);
        font-size: 1.4em;
        text-decoration: none;
        color: #1e3a8a;
        border: 2px solid #e0e7ff;
        transition: 0.2s;
    }

    .homeBtn:hover { transform: scale(1.08); }
    .homeBtn:active { transform: scale(0.92); }

    @media(max-width:480px){
        .topbar h1 { font-size:1.6em; }
        .homeBtn { font-size:1.3em; padding:10px 12px; }
    }

    /* UI */
    #progress { height:12px; background:#dceeff; border-radius:20px; margin:20px 0; overflow:hidden; }
    #progressBar { height:100%; width:0; background:#4ade80; transition:0.4s; }

    #score { text-align:center; font-size:1.3em; margin-bottom:20px; color:#2563eb; font-weight:700; }

    #question { text-align:center; font-size:1.5em; margin-bottom:25px; font-weight:700; }

    .choice {
        padding:18px;
        background:white;
        border-radius:14px;
        margin:12px 0;
        cursor:pointer;
        border:2px solid #e5e7eb;
        box-shadow:0 3px 8px rgba(0,0,0,0.08);
        display:flex;
        justify-content:space-between;
        align-items:center;
        transition:0.25s;
    }

    .choice:hover { background:#eef6ff; }
    .correct { background:#bbf7d0 !important; border-color:#22c55e !important; transform:scale(1.03); }
    .wrong { background:#fecaca !important; border-color:#ef4444 !important; transform:scale(0.97); }

    .left { text-align:left; }
    .ru { font-size:1.4em; font-weight:700; }
    .ph { font-size:1em; color:#555; }

    .soundBtn { font-size:1.6em; cursor:pointer; padding:6px; color:#3b82f6; }

    #result { text-align:center; font-size:1.4em; margin-top:20px; min-height:40px; font-weight:700; }

    #playCorrect {
        display:none;
        margin-top:20px;
        width:100%;
        padding:14px;
        font-size:1.2em;
        border-radius:12px;
        background:#10b981;
        color:white;
        border:none;
        font-weight:700;
        cursor:pointer;
    }

    /* FIXED NEXT BUTTON */
    #next {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        max-width: 420px;
        width: calc(100% - 40px);

        padding: 16px;
        font-size: 1.3em;
        border-radius: 14px;
        background: #3b82f6;
        color: white;
        border: none;
        font-weight: 700;

        display: none;
        box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        z-index: 999;
    }
</style>
</head>

<body>
<div class="container">

<div class="topbar">
    <h1>üìñ Quiz Cyrillique</h1>
    <a href="index.html" class="homeBtn">üè†</a>
</div>

<div id="progress"><div id="progressBar"></div></div>

<div id="score">Score : 0</div>

<div id="question"></div>
<div id="choices"></div>

<div id="result"></div>

<button id="playCorrect">‚ñ∂Ô∏è √âcouter la bonne r√©ponse</button>
<button id="next" onclick="startQuiz()">‚è≠Ô∏è Suivant</button>

<audio id="audioPlayer"></audio>

<script>
// FR -> RUSSE
const verbs = {
    "dessiner":"—Ä–∏—Å–æ–≤–∞—Ç—å",
    "courir":"–±–µ–≥–∞—Ç—å",
    "parler / discuter":"–≥–æ–≤–æ—Ä–∏—Ç—å",
    "se promener / marcher":"–≥—É–ª—è—Ç—å",
    "faire / fabriquer / r√©aliser":"–¥–µ–ª–∞—Ç—å",
    "penser / r√©fl√©chir":"–¥—É–º–∞—Ç—å",
    "prendre le petit-d√©jeuner":"–∑–∞–≤—Ç—Ä–∞–∫–∞—Ç—å",
    "jouer":"–∏–≥—Ä–∞—Ç—å",
    "√©tudier / apprendre":"–∏–∑—É—á–∞—Ç—å",
    "fumer":"–∫—É—Ä–∏—Ç—å",
    "d√©jeuner / manger le midi":"–æ–±–µ–¥–∞—Ç—å",
    "r√©pondre / r√©agir":"–æ—Ç–≤–µ—á–∞—Ç—å",
    "se reposer / faire une pause / √™tre en vacances":"–æ—Ç–¥—ã—Ö–∞—Ç—å",
    "nager":"–ø–ª–∞–≤–∞—Ç—å",
    "se souvenir / se rappeler":"–ø–æ–º–Ω–∏—Ç—å",
    "comprendre / saisir / interpr√©ter":"–ø–æ–Ω–∏–º–∞—Ç—å",
    "travailler":"—Ä–∞–±–æ—Ç–∞—Ç—å",
    "√©couter / pr√™ter attention":"—Å–ª—É—à–∞—Ç—å",
    "regarder / observer":"—Å–º–æ—Ç—Ä–µ—Ç—å",
    "demander / poser une question":"—Å–ø—Ä–∞—à–∏–≤–∞—Ç—å",
    "d√Æner / manger le soir":"—É–∂–∏–Ω–∞—Ç—å",
    "savoir-faire (comp√©tence)":"—É–º–µ—Ç—å",
    "lire":"—á–∏—Ç–∞—Ç—å",
    "savoir / conna√Ætre":"–∑–Ω–∞—Ç—å"
};

// Phon√©tique
const ruPhon = {
    "—Ä–∏—Å–æ–≤–∞—Ç—å":"risavat‚Äô",
    "–±–µ–≥–∞—Ç—å":"by√©guet‚Äô",
    "–≥–æ–≤–æ—Ä–∏—Ç—å":"gavarit‚Äô",
    "–≥—É–ª—è—Ç—å":"gulyat‚Äô",
    "–¥–µ–ª–∞—Ç—å":"dy√©lat‚Äô",
    "–¥—É–º–∞—Ç—å":"doumat‚Äô",
    "–∑–∞–≤—Ç—Ä–∞–∫–∞—Ç—å":"zavtrakat‚Äô",
    "–∏–≥—Ä–∞—Ç—å":"igrat‚Äô",
    "–∏–∑—É—á–∞—Ç—å":"izoutchat‚Äô",
    "–∫—É—Ä–∏—Ç—å":"kourit‚Äô",
    "–æ–±–µ–¥–∞—Ç—å":"ab√©dat‚Äô",
    "–æ—Ç–≤–µ—á–∞—Ç—å":"atvetchat‚Äô",
    "–æ—Ç–¥—ã—Ö–∞—Ç—å":"addykhat‚Äô",
    "–ø–ª–∞–≤–∞—Ç—å":"plavat‚Äô",
    "–ø–æ–º–Ω–∏—Ç—å":"pomnit‚Äô",
    "–ø–æ–Ω–∏–º–∞—Ç—å":"panimat‚Äô",
    "—Ä–∞–±–æ—Ç–∞—Ç—å":"rabotat‚Äô",
    "—Å–ª—É—à–∞—Ç—å":"slouchat‚Äô",
    "—Å–º–æ—Ç—Ä–µ—Ç—å":"smatr√©t‚Äô",
    "—Å–ø—Ä–∞—à–∏–≤–∞—Ç—å":"sprachevat‚Äô",
    "—É–∂–∏–Ω–∞—Ç—å":"oujinat‚Äô",
    "—É–º–µ—Ç—å":"oumy√©t‚Äô",
    "—á–∏—Ç–∞—Ç—å":"tchitat‚Äô",
    "–∑–Ω–∞—Ç—å":"znat‚Äô"
};

// RUSSE -> MP3
const ruMp3 = {
    "—Ä–∏—Å–æ–≤–∞—Ç—å":"dessiner.mp3",
    "–±–µ–≥–∞—Ç—å":"courir.mp3",
    "–≥–æ–≤–æ—Ä–∏—Ç—å":"parler.mp3",
    "–≥—É–ª—è—Ç—å":"promener.mp3",
    "–¥–µ–ª–∞—Ç—å":"faire.mp3",
    "–¥—É–º–∞—Ç—å":"penser.mp3",
    "–∑–∞–≤—Ç—Ä–∞–∫–∞—Ç—å":"petitdejeuner.mp3",
    "–∏–≥—Ä–∞—Ç—å":"jouer.mp3",
    "–∏–∑—É—á–∞—Ç—å":"etudier.mp3",
    "–∫—É—Ä–∏—Ç—å":"fumer.mp3",
    "–æ–±–µ–¥–∞—Ç—å":"dejeuner.mp3",
    "–æ—Ç–≤–µ—á–∞—Ç—å":"repondre.mp3",
    "–æ—Ç–¥—ã—Ö–∞—Ç—å":"sereposer.mp3",
    "–ø–ª–∞–≤–∞—Ç—å":"nager.mp3",
    "–ø–æ–º–Ω–∏—Ç—å":"souvenir.mp3",
    "–ø–æ–Ω–∏–º–∞—Ç—å":"comprendre.mp3",
    "—Ä–∞–±–æ—Ç–∞—Ç—å":"travailler.mp3",
    "—Å–ª—É—à–∞—Ç—å":"ecouter.mp3",
    "—Å–º–æ—Ç—Ä–µ—Ç—å":"regarder.mp3",
    "—Å–ø—Ä–∞—à–∏–≤–∞—Ç—å":"demander.mp3",
    "—É–∂–∏–Ω–∞—Ç—å":"diner.mp3",
    "—É–º–µ—Ç—å":"savoirfaire.mp3",
    "—á–∏—Ç–∞—Ç—å":"lire.mp3",
    "–∑–Ω–∞—Ç—å":"savoir_connaitre.mp3"
};

const frList = Object.keys(verbs);

let score=0, total=20, step=0;

function updateProg(){
    document.getElementById("progressBar").style.width =
        (step/total*100)+"%";
}

function playSound(ru){
    const a=document.getElementById("audioPlayer");
    a.src = ruMp3[ru];
    a.play();
}

function startQuiz(){
    document.getElementById("playCorrect").style.display="none";

    if(step>=total){
        document.getElementById("question").innerHTML="üéâ Termin√© !";
        document.getElementById("choices").innerHTML="";
        document.getElementById("result").innerHTML="Score final : "+score;
        document.getElementById("next").style.display="none";
        return;
    }

    step++;
    updateProg();

    document.getElementById("result").innerHTML="";
    document.getElementById("next").style.display="none";

    const fr=frList[Math.floor(Math.random()*frList.length)];
    const correct=verbs[fr];

    document.getElementById("question").innerHTML=fr;

    let opts=new Set([correct]);
    while(opts.size<4){
        opts.add(verbs[frList[Math.floor(Math.random()*frList.length)]]);
    }

    const final=[...opts].sort(()=>Math.random()-0.5);

    let html="";
    final.forEach(ru=>{
        html += `
        <div class="choice" onclick="checkAnswer(this,'${ru}','${correct}')">
            <div class="left">
                <div class="ru">${ru}</div>
                <div class="ph">${ruPhon[ru]}</div>
            </div>
            <div class="soundBtn" onclick="event.stopPropagation(); playSound('${ru}')">üîä</div>
        </div>`;
    });

    document.getElementById("choices").innerHTML=html;
}

function checkAnswer(el,choice,correct){
    document.querySelectorAll('.choice').forEach(x=>x.style.pointerEvents="none");

    playSound(choice);

    if(choice===correct){
        el.classList.add("correct");
        score++;
        document.getElementById("score").innerHTML="Score : "+score;
        document.getElementById("result").innerHTML="üü¢ Correct !";
    } else {
        el.classList.add("wrong");
        document.getElementById("result").innerHTML =
            "‚ùå Mauvais<br>‚úîÔ∏è "+correct+"<br><small>"+ruPhon[correct]+"</small>";
        document.getElementById("playCorrect").style.display="block";
        document.getElementById("playCorrect").onclick = ()=>playSound(correct);
    }

    document.getElementById("next").style.display="block";
}

startQuiz();
</script>

</div>
</body>
</html>
